# Story 0.2: Design System Foundation

## Status
Pending

## Story
**As a** Development Team,  
**I want** a comprehensive design system with consistent components and tokens,  
**so that** we can build a cohesive, maintainable, and accessible UI

## Acceptance Criteria
1. Color tokens implemented from PRD specifications
2. Typography scale defined and implemented
3. NativeBase custom theme configured
4. Base component library created with 10+ components
5. Spacing and sizing system established
6. Component showcase/documentation created
7. Accessibility standards integrated
8. Dark mode support prepared (future-ready)

## Tasks / Subtasks
- [ ] Implement Design Tokens (AC: 1, 2, 5)
  - [ ] Create color palette constants from PRD
  - [ ] Define typography scale (font sizes, weights, line heights)
  - [ ] Establish spacing scale (4, 8, 12, 16, 24, 32, 48)
  - [ ] Create sizing system for components
  - [ ] Define border radius standards
- [ ] Configure NativeBase Theme (AC: 3)
  - [ ] Extend default theme with custom colors
  - [ ] Override component default styles
  - [ ] Configure responsive breakpoints
  - [ ] Set up theme provider in App.tsx
- [ ] Create Base Components (AC: 4)
  - [ ] Button variants (primary, secondary, text, disabled)
  - [ ] Input field with validation states
  - [ ] Card component with shadows
  - [ ] Loading spinner/skeleton screens
  - [ ] Error message component
  - [ ] Badge component (for discounts, status)
  - [ ] Avatar component
  - [ ] Tab component
  - [ ] Modal/Bottom sheet component
  - [ ] Toast notification component
- [ ] Build Component Documentation (AC: 6)
  - [ ] Create Storybook setup (or similar)
  - [ ] Document each component usage
  - [ ] Show all component states/variants
  - [ ] Include code examples
- [ ] Implement Accessibility (AC: 7)
  - [ ] Add accessibility labels to all components
  - [ ] Ensure proper color contrast (WCAG AA)
  - [ ] Test with screen readers
  - [ ] Implement focus management
- [ ] Prepare Dark Mode Structure (AC: 8)
  - [ ] Create color token structure for themes
  - [ ] Implement theme switching logic
  - [ ] Test components in both modes
  - [ ] Document theme implementation

## Dev Notes

### Color Palette from PRD
```typescript
// src/theme/colors.ts
export const colors = {
  // Primary - Warm Orange (Interactive elements)
  primary: {
    50: '#FFF4E6',
    100: '#FFE5CC',
    200: '#FFCC99',
    300: '#FFB366',
    400: '#FF9933',
    500: '#FF6B35', // Main brand orange
    600: '#E65100',
    700: '#BF360C',
    800: '#8D2408',
    900: '#5D1605',
  },
  
  // Neutral - Grays
  neutral: {
    0: '#FFFFFF',
    50: '#FAFAFA',
    100: '#F5F5F5',
    200: '#E0E0E0',
    300: '#BDBDBD',
    400: '#9E9E9E',
    500: '#757575',
    600: '#616161',
    700: '#424242',
    800: '#212121', // Primary text
    900: '#000000',
  },
  
  // Semantic Colors
  success: '#4CAF50',
  warning: '#FFA726',
  error: '#EF5350',
  info: '#29B6F6',
  
  // Surfaces
  background: '#FFFFFF',
  surface: '#FFFFFF',
  
  // Text
  text: {
    primary: '#212121',
    secondary: '#757575',
    disabled: '#BDBDBD',
    inverse: '#FFFFFF',
  },
};
```

### Typography Scale
```typescript
// src/theme/typography.ts
export const typography = {
  // Font Family
  fontFamily: {
    regular: 'System',
    medium: 'System',
    semibold: 'System',
    bold: 'System',
  },
  
  // Font Sizes
  fontSize: {
    xs: 12,
    sm: 14,
    base: 16,
    lg: 18,
    xl: 20,
    '2xl': 24,
    '3xl': 30,
    '4xl': 36,
  },
  
  // Line Heights
  lineHeight: {
    tight: 1.2,
    normal: 1.5,
    relaxed: 1.75,
  },
  
  // Font Weights
  fontWeight: {
    regular: '400',
    medium: '500',
    semibold: '600',
    bold: '700',
  },
};
```

### NativeBase Theme Configuration
```typescript
// src/theme/index.ts
import { extendTheme } from 'native-base';
import { colors } from './colors';
import { typography } from './typography';

export const theme = extendTheme({
  colors,
  fontSizes: typography.fontSize,
  fonts: typography.fontFamily,
  
  components: {
    Button: {
      baseStyle: {
        borderRadius: 8,
      },
      variants: {
        solid: ({ colorScheme }) => ({
          bg: colorScheme === 'primary' ? 'primary.500' : `${colorScheme}.500`,
          _pressed: {
            bg: colorScheme === 'primary' ? 'primary.600' : `${colorScheme}.600`,
          },
        }),
        outline: ({ colorScheme }) => ({
          borderColor: colorScheme === 'primary' ? 'primary.500' : `${colorScheme}.500`,
          _text: {
            color: colorScheme === 'primary' ? 'primary.500' : `${colorScheme}.500`,
          },
        }),
      },
    },
    Input: {
      baseStyle: {
        borderRadius: 8,
        fontSize: 'base',
        _focus: {
          borderColor: 'primary.500',
        },
      },
    },
    Card: {
      baseStyle: {
        borderRadius: 12,
        shadow: 2,
        bg: 'surface',
        p: 4,
      },
    },
  },
  
  config: {
    initialColorMode: 'light',
  },
});
```

### Component Example
```typescript
// src/components/common/Button.tsx
import React from 'react';
import { Button as NBButton, IButtonProps } from 'native-base';

interface ButtonProps extends IButtonProps {
  variant?: 'primary' | 'secondary' | 'text';
  loading?: boolean;
}

export const Button: React.FC<ButtonProps> = ({
  variant = 'primary',
  loading,
  children,
  ...props
}) => {
  const getVariantProps = () => {
    switch (variant) {
      case 'primary':
        return { colorScheme: 'primary', variant: 'solid' };
      case 'secondary':
        return { colorScheme: 'primary', variant: 'outline' };
      case 'text':
        return { colorScheme: 'primary', variant: 'ghost' };
    }
  };

  return (
    <NBButton
      {...getVariantProps()}
      isLoading={loading}
      _text={{ fontWeight: 'semibold' }}
      {...props}
    >
      {children}
    </NBButton>
  );
};
```

### Spacing System
```typescript
// src/theme/spacing.ts
export const spacing = {
  0: 0,
  1: 4,
  2: 8,
  3: 12,
  4: 16,
  5: 20,
  6: 24,
  8: 32,
  10: 40,
  12: 48,
  16: 64,
  20: 80,
  24: 96,
};
```

## Testing

### Design System Validation
- [ ] All colors meet WCAG AA contrast requirements
- [ ] Components render consistently across iOS/Android
- [ ] Theme switching works without flickers
- [ ] All interactive elements have touch targets â‰¥44px
- [ ] Screen reader announces all components correctly
- [ ] Component showcase displays all variants
- [ ] No hardcoded colors in component files
- [ ] All text uses typography scale

### Visual Regression Testing
- [ ] Set up Percy or similar for visual testing
- [ ] Baseline screenshots for all components
- [ ] Automated checks on PR submissions

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|---------|
| 2025-07-31 | 1.0 | Initial story creation | Sarah (Product Owner) |